

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/ghost_icon.png">
  <link rel="icon" href="/img/ghost_icon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="这个教程面向没有任何技术基础的纯小白，旨在帮助不懂代码的同学一步步搭建出自己的博客">
  <meta name="author" content="森同学">
  <meta name="keywords" content="">
  <meta name="description" content="这个教程面向没有任何技术基础的纯小白，旨在帮助不懂代码的同学一步步搭建出自己的博客">
<meta property="og:type" content="article">
<meta property="og:title" content="教程： 如何使用Hexo加Github搭建个人博客">
<meta property="og:url" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/index.html">
<meta property="og:site_name" content="Blog - Kassadin">
<meta property="og:description" content="这个教程面向没有任何技术基础的纯小白，旨在帮助不懂代码的同学一步步搭建出自己的博客">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/01sandbox.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/02nodejs.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/03git.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/04rightclick.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/05newgitbash.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/06installhexo.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/07enter.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/08done.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/09folder.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/11initing.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/13done.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/14gen.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/15done.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/16server.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/17wow.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/18newrepo.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/23reposet.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/24gitpage.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/19keygen.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/20key.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/21ssh.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/22test.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/25config.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/26deploy.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/27title.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/28work.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/31aerror.png">
<meta property="og:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/32nohttps.png">
<meta property="article:published_time" content="2019-07-15T10:25:07.000Z">
<meta property="article:modified_time" content="2023-05-26T16:53:07.902Z">
<meta property="article:author" content="森同学">
<meta property="article:tag" content="教程">
<meta property="article:tag" content="技术">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://kassadin.moe/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/01sandbox.png">
  
  <title>教程： 如何使用Hexo加Github搭建个人博客 - Blog - Kassadin</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/hybrid.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"kassadin.moe","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":200}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":1},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Blog - Kassadin" type="application/atom+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Blog - Kassadin</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/atom.xml">
                <i class="iconfont icon-rss"></i>
                RSS
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="教程： 如何使用Hexo加Github搭建个人博客">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2019-07-15 18:25" pubdate>
        2019-07-15
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      16k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      51 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">教程： 如何使用Hexo加Github搭建个人博客</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2023-05-27
                
              </p>
            
            <div class="markdown-body">
              <p>这个教程面向没有任何技术基础的纯小白，旨在帮助不懂代码的同学一步步搭建出自己的博客</p>
<span id="more"></span>

<p>建议阅读全文一遍之后，再着手开始搭建<br>（本人使用的是Windows10 1903，因此本教程仅面向Windows用户）</p>
<hr>
<h4 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h4><p>想搭一个博客的想法已经很久了，却一直没有付诸实践。周末随便逛逛，看到一个使用Hexo加Github搭建博客的教程，心血来潮，决定折腾一下。<br>趁着这三分钟热度，一鼓作气从中午研究到晚上，花了10个小时（不止）终于搭建好了教程所说的“十分钟建好托管在GIthub上的个人网站”。<br>当然，教程是不错的，如果顺利确实可以快速搭建好网站。但是因为自己水平为负，踩了很多奇奇怪怪的纯小白坑，花费太多时间。</p>
<p>专业人员可能会因为水平太高，忽略了一些小细节，因为这在他们看来是“大家都知道的”。但可能正是这些小问题，绊倒了跃跃欲试的大批纯小白。<br>因此，本人写下这篇博客，记录自己搭建的过程与踩过的坑，希望可以帮助没有技术基础而又想搭建个人博客的同学，希望你们可以在看完教程后，也能顺利搭建一个自己的网站。</p>
<hr>
<h4 id="搭建流程"><a href="#搭建流程" class="headerlink" title="搭建流程"></a>搭建流程</h4><p>下面进入正题，如何用Hexo加GitHub搭建一个网站。<br>首先是搭建网站的大概流程：</p>
<ol>
<li>准备工作</li>
</ol>
<ul>
<li>安装Node.js和Git</li>
<li>安装Hexo</li>
</ul>
<ol start="2">
<li>本地搭建博客</li>
</ol>
<ul>
<li>建立网站文件</li>
<li>生成网页</li>
<li>本地运行</li>
</ul>
<ol start="3">
<li>托管到GitHub</li>
</ol>
<ul>
<li>申请GitHub账号、建立仓库</li>
<li>连接Git和Github</li>
<li>推送本地网页到Github</li>
</ul>
<ol start="4">
<li>结束撒花</li>
</ol>
<p>如果你不了解上面提到的一些名词，下面是一些简要介绍。当然，看不懂也不会影响接下来的操作。</p>
<p><strong>Hexo是什么？</strong><br>Hexo 是一个快速、简洁且高效的博客框架（<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/" title="官方文档">Hexo官方文档</a>）。可以想象成一个做PPT时套用的模板，你可以通过Hexo在本地创建个人网站的本体文件，再将文件托管在Github上。</p>
<p><strong>Node.js是什么？</strong><br>具体不清楚，在这里是Hexo运行所需要的组件。</p>
<p><strong>Git是什么</strong><br>Git是一个版本控制软件。在这里我们只要把他当作控制台，负责控制其他工具工作。</p>
<p><strong>Github是什么？</strong><br>GitHub是通过Git进行版本控制的托管服务平台（<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-hans/GitHub" title="Wiki百科">Wiki百科</a>）。不了解没关系，我们在这里只需要把Github理解为公开在网络中的云盘，你可以申请这个云盘并建立仓库，把你做好的网站放入仓库。这样，别人就可以通过Github访问你的个人网站。</p>
<hr>
<p><strong>接下来，我会使用Windows10自带的沙盒（Sandbox）来演示如何在全新的Windows系统下搭建博客</strong></p>
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/01sandbox.png" srcset="/img/loading.gif" lazyload class=""></div>

<h4 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h4><h5 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h5><p>进入<a target="_blank" rel="noopener" href="https://nodejs.org/en/" title="Node.js官网">Node.js官网</a>，点击左边的<code>10/16/0 LTS</code>开始下载。<br>安装时全部默认即可。</p>
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/02nodejs.png" srcset="/img/loading.gif" lazyload class=""></div>

<h5 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h5><p>点击<a target="_blank" rel="noopener" href="https://git-scm.com/download/win" title="Git下载链接">Git下载链接</a>开始下载，但是由于众所周知的原因，前面这个链接的下载速度可能会很慢。你可以参考这个<a target="_blank" rel="noopener" href="https://github.com/waylau/git-for-win" title="Git for Windows 国内下载站">Git for Windows 国内下载站</a>，选择最新的<code>64-bit Git for Windows Setup</code>即可<br>    安装时一路默认即可。</p>
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/03git.png" srcset="/img/loading.gif" lazyload class=""></div>

<h5 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h5><p>必备的组件安装好之后，可以开始安装Hexo了。<br>这一步非常简单，只需要在任何地方，比如说桌面的空白处，单击鼠标右键，在菜单中选择<code>Git Bash Here</code>。</p>
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/04rightclick.png" srcset="/img/loading.gif" lazyload class=""></div>
这会打开我们刚才安装的Git，看起来是一个令人生畏的命令行窗口，但是我们只需要输入20个字符，就可以命令他安装好Hexo。和安装前两个软件比起来工作量少了很多。
观察这个黑漆漆的窗口，你会发现光标在一个 `$` 符号后闪烁。
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/05newgitbash.png" srcset="/img/loading.gif" lazyload class=""></div>
下面，亮出你的键盘，敲下`npm install -g hexo-cli`
窗口变成了这个样子
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/06installhexo.png" srcset="/img/loading.gif" lazyload class=""></div>
此时按下回车，你发现......没有变化，只是光标移到了下一行。
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/07enter.png" srcset="/img/loading.gif" lazyload class=""></div>
但其实他已经在后台开始安装Hexo了，等待一段时间（取决于网络状况），他会说明安装完成，安装了“hexo-cli 2.0.0”，花费了“105.03s”
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/08done.png" srcset="/img/loading.gif" lazyload class=""></div>

<p><strong>至此，准备工作已经完成了，接下来是在本地搭建博客</strong></p>
<hr>
<h4 id="本地搭建博客"><a href="#本地搭建博客" class="headerlink" title="本地搭建博客"></a>本地搭建博客</h4><h5 id="初始化文件夹"><a href="#初始化文件夹" class="headerlink" title="初始化文件夹"></a>初始化文件夹</h5><ul>
<li>首先，我们需要建立一个文件夹，存放博客需要的各种文件。你可以在电脑中任何喜欢的地方新建文件夹，存放文件。比如，我在“文档”中新建文件夹，命名为“Blog”，存放我的博客文件。</li>
<li>然后，我们打开这个空文件夹，右键，点击“Git Bash Here”。<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/09folder.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>又是这个小黑窗，不过我们这次操作更简单，只需要输入<code>hexo init</code>，然后按下回车，他会初始化我们的“Blog”文件夹，生成博客需要的框架文件（就是PPT模板）。这个过程可能会长一些，稍作等待。<div style="width: 95%; margin: auto"></div></li>
<li>经过几分钟的等待，我们的文件夹已经初始化完成，可以看到多了这么多文件。<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/11initing.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>接下来，不要关这个窗口，继续输入<code>npm install</code>，回车。这次很快，出现了两个警告，但是似乎没有影响，我们继续。<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/13done.png" srcset="/img/loading.gif" lazyload class=""></div>

</li>
</ul>
<h5 id="生成、部署网页"><a href="#生成、部署网页" class="headerlink" title="生成、部署网页"></a>生成、部署网页</h5><ul>
<li>输入<code>hexo g</code>，回车。（这个命令是<code>hexo generate</code>的缩写，意思是命令Hexo生成网页文件）<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/14gen.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>窗口一顿输出<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/15done.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>输入<code>hexo s</code>，回车。（这个命令是<code>hexo server</code>的缩写，意思是命令Hexo部署网页文件）</li>
<li>Windows弹出窗口，询问是否允许Node.js的网络连接，允许即可。观察小黑窗，他说<br><code>Hexo is running at http://localhost:4000</code><div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/16server.png" srcset="/img/loading.gif" lazyload class=""></div>


</li>
</ul>
<h5 id="见证奇迹"><a href="#见证奇迹" class="headerlink" title="见证奇迹"></a>见证奇迹</h5><ul>
<li>打开浏览器，在地址栏输入<code>localhost:4000</code>，回车。你也可以点击 <a target="_blank" rel="noopener" href="http://localhost:4000/" title="这个链接">localhost:4000</a></li>
<li>WOW<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/17wow.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>这里Hexo已经为你创建了第一篇Blog： <code>Hello World</code></li>
</ul>
<blockquote>
<p><code>hexo s</code>命令在本地部署网页文件，部署的具体地址就是在<code>localhost:4000</code>，这个是为了方便你调试，看看博客外观对不对，文章内容有没有错</p>
</blockquote>
<p>至此，我们的博客已经在本地搭建完成了。但是，如果你想把他放到网上，让更多的人看到，就需要将我们生成的这些文件放到Github上。<br>那么，继续。<br>（继续之前，你最好把正在运行的Git小黑窗关闭，<code>Ctrl+C</code>停止部署网页</p>
<hr>
<h4 id="托管到GitHub"><a href="#托管到GitHub" class="headerlink" title="托管到GitHub"></a>托管到GitHub</h4><h5 id="申请账号，新建仓库"><a href="#申请账号，新建仓库" class="headerlink" title="申请账号，新建仓库"></a>申请账号，新建仓库</h5><ul>
<li>首先，申请一个Github账号，点击这个链接 <a target="_blank" rel="noopener" href="https://github.com/join" title="申请账号">申请账号</a></li>
<li>然后，新建一个仓库，点击这个链接 <a target="_blank" rel="noopener" href="https://github.com/new" title="新建仓库">新建仓库</a></li>
<li>注意，这个仓库的名称必须为<code>username.github.io</code>，比如我的名字叫<code>KassadinL</code>，仓库的名字就必须为<code>KassadinL.github.io</code>。至于大小写，是无所谓的，最后都会解析为小写字母。点击创建仓库。<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/18newrepo.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>点击你创建的仓库，在页面中找到最右边的<code>settings</code>，点击<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/23reposet.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>往下拉，找到<code>Github Pages</code>，打开这项功能，打开之后应该是这样的。（这个步骤是否是必要的并不太清楚，但是因为我不想再注册一个Github账号确认，所以大家可以试一下）<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/24gitpage.png" srcset="/img/loading.gif" lazyload class=""></div>

</li>
</ul>
<h5 id="链接Git和Github"><a href="#链接Git和Github" class="headerlink" title="链接Git和Github"></a>链接Git和Github</h5><p>Git为了将本地的文件推送到Github上，需要通过Github的认证，证明他确实是这个GitHub账号的主人，有权利上传文件。为了完成这个认证，我们需要几步操作。</p>
<ul>
<li>首先，在空白处单击右键，打开Git Bash，输入<code>git config --global user.name &quot;你的GitHub用户名&quot;</code>，比如我的用户名是<code>KassadinL</code>，应该输入<code>git config --global user.name &quot;KassadinL&quot;</code>，回车</li>
<li>然后，继续输入<code>git config --global user.email &quot;你的GitHub注册邮箱&quot;</code>，比如我的注册邮箱是<code>sensensensan@gmail.com</code>，那就输入<code>git config --global user.email &quot;sensensensan@gmail.com&quot;</code>，回车<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/19keygen.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>这两步将你的GitHub账号信息记录在Git里，下一步将用这两条信息生成密钥文件</li>
<li>输入<code>ssh-keygen -t rsa -C &quot;你的GitHub注册邮箱&quot;</code>，比如我的注册邮箱是<code>sensensensan@gmail.com</code>，那就输入<code>ssh-keygen -t rsa -C &quot;sensensensan@gmail.com&quot;</code>，回车，再加三个回车</li>
<li>他有提示你生成的文件在哪里，打开C盘&gt;&gt;users&gt;&gt;用户名&gt;&gt;.ssh，找到”id_rsa.pub”这个文件，用记事本打开，复制所有内容<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/20key.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>打开<a target="_blank" rel="noopener" href="https://github.com/settings/keys" title="Github_Settings_keys">Github_Settings_keys</a>，点击<code>New SSH key</code>，Title随意填，比如“Blog”，把刚才复制的内容粘贴在下面的<code>Key</code>文本框中，点击<code>Add SSH key</code><div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/21ssh.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>回到Git Bash中，检测密钥是否正常工作，输入<code>ssh git@github.com</code>，稍等片刻，如果出现下图的字样，说明设置成功。<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/22test.png" srcset="/img/loading.gif" lazyload class=""></div>

</li>
</ul>
<h5 id="推送本地网页到Github"><a href="#推送本地网页到Github" class="headerlink" title="推送本地网页到Github"></a>推送本地网页到Github</h5><ul>
<li><p>为了推送本地网页到Github，我们需要让Hexo知道应该把文件送到哪。因此我们打开本地Blog文件夹，找到下图<code>_config.yml</code>这个文件，这个是网站的配置文件。</p>
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/25config.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li><p>用记事本打开，在文件最后修改</p>
<figure class="highlight dts"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dts"><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">	type:</span> git<br><span class="hljs-symbol">	repo:</span> 这里填入你之前在GitHub上创建仓库的完整路径，记得加上 .git<br><span class="hljs-symbol">	branch:</span> master<br></code></pre></div></td></tr></table></figure></li>
<li><p>更改如下：</p>
<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/26deploy.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li><p>注意：</p>
<ul>
<li>第三行网址后记得加<code>.git</code></li>
<li><code>:</code>后需要加一个空格，不可以省略，例如，<code>type:git</code>不行，<code>type: git</code>可以。</li>
</ul>
</li>
<li><p>保存，关闭</p>
</li>
<li><p>下面安装Git部署插件，这个插件用来把你的网页推送到Github，在Git Bash中输入命令</p>
<figure class="highlight ada"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ada">npm install hexo-deployer-git <span class="hljs-comment">--save</span><br></code></pre></div></td></tr></table></figure>
<p>这样，你就可以把博客放到网上了</p>
<blockquote>
<p>这里引用 “吴润 - GitHub+Hexo 搭建个人网站详细教程 (<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26625249)%E2%80%9D">https://zhuanlan.zhihu.com/p/26625249)”</a> 解释为什么使用SSH链接Git和GitHub：<br>“这里之所以设置GitHub密钥原因是，通过非对称加密的公钥与私钥来完成加密，公钥放置在GitHub上，私钥放置在自己的电脑里。GitHub要求每次推送代码都是合法用户，所以每次推送都需要输入账号密码验证推送用户是否是合法用户，为了省去每次输入密码的步骤，采用了ssh，当你推送的时候，git就会匹配你的私钥跟GitHub上面的公钥是否是配对的，若是匹配就认为你是合法用户，则允许推送。这样可以保证每次的推送都是正确合法的。”</p>
</blockquote>
</li>
</ul>
<h5 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h5><p>使用Hexo推送网页到Github，经常会用到这几条命令</p>
<figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo s</span><br><span class="hljs-attribute">ctrl c</span><br><span class="hljs-attribute">hexo clean</span><br><span class="hljs-attribute">hexo g</span><br><span class="hljs-attribute">hexo d</span><br></code></pre></div></td></tr></table></figure>
<p>解释：</p>
<ul>
<li><code>hexo s</code>即<code>hexo server</code>，在本地部署服务器，可以通过 <a target="_blank" rel="noopener" href="http://localhost:4000/" title="这个链接">localhost:4000</a> 查看网页，检查内容、格式有没有纰漏，如果有问题，修改博客文本文件，保存一下，刷新网页就可以更新</li>
<li><code>Ctrl C</code>停止部署，没有问题后，就在Git Bash窗口<code>Ctrl C</code>停止本地部署</li>
<li><code>hexo clean</code>，清除本地生成的网页文件</li>
<li><code>hexo g</code>即<code>hexo generate</code>，在本地生成网页文件，位置在<code>Blog\public</code></li>
<li><code>hexo d</code>即<code>hexo deploy</code>，这个命令把本地的网页文件部署到Github上，这样，其他人就可以看到你的博客了</li>
</ul>
<blockquote>
<p>2020/05/04 更新<br><code>hexo clean</code>可以简写为<code>hexo cl</code><br><code>hexo g</code> <code>hexo d</code>可以合并简写为<code>hexo g -d</code></p>
</blockquote>
<h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><h5 id="定制博客"><a href="#定制博客" class="headerlink" title="定制博客"></a>定制博客</h5><ul>
<li>更改博客的标题、副标题、语言等设置<ul>
<li>打开本地Blog文件夹，找到<code>_config.yml</code>这个文件，用记事本打开，可以修改标题、副标题、语言、时区等<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/27title.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>比如，我更改<code>title</code>、<code>subtitle</code>、<code>language</code>，博客换了标题、副标题、语言<div style="width: 95%; margin: auto"><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/28work.png" srcset="/img/loading.gif" lazyload class=""></div></li>
<li>更多设置可以参考其他的教程，这里就不一一列举了</li>
</ul>
</li>
</ul>
<h5 id="撰写博文"><a href="#撰写博文" class="headerlink" title="撰写博文"></a>撰写博文</h5><ul>
<li>使用<code>hexo n</code>命令，<code>hexo n</code>是<code>hexo new</code>的缩写，该命令会在<code>Blog\source\_posts\</code>目录下创建博客文件，打开这个文件，你就可以开始写博客了</li>
<li>在<code>Blog\source\_posts\</code>目录下，你可以看到已经存在一个Hexo创建的<code>hello-world.md</code>文件，这就是刚才博客上的第一篇文章</li>
<li><code>hexo n</code>命令具体使用方法是：在Git Bash中输入<code>hexo n name</code>，name是博客文件的文件名，如果名字中间有空格，需要用双引号括住文件名</li>
<li>比如<code>hexo n &quot;the First Blog&quot;</code>，回车，他会提示在<code>Blog\source\_posts\</code>目录下创建<code>the-First-Blog.md</code>文件</li>
<li>打开这个文件，就可以开始写博客了</li>
<li>Hexo默认使用Markdown，Markdown是一种文本格式，用简单的规则使文本实现一定的格式。关于它的语法，可以参考 <a target="_blank" rel="noopener" href="https://hyxxsfwy.github.io/2016/01/15/Hexo-Markdown-%E7%AE%80%E6%98%8E%E8%AF%AD%E6%B3%95%E6%89%8B%E5%86%8C" title="Hexo Markdown 简明语法手册">Hexo Markdown 简明语法手册</a></li>
</ul>
<h5 id="正确流程"><a href="#正确流程" class="headerlink" title="正确流程"></a>正确流程</h5><p>所以，总结一下，写一篇博客的正确流程是：</p>
<ul>
<li><code>hexo n &quot;the First Blog&quot;</code>，新建一篇博客</li>
<li>使用Markdown编辑器，或者类似工具，或者记事本都可以（我现在用的是Notepad++），编辑内容</li>
<li>写好之后，<code>hexo s</code>本地部署，看看有没有问题</li>
<li>没有问题，在Git Bash窗口<code>Ctrl C</code>停止本地部署</li>
<li><code>hexo clean</code>，清除旧网页文件</li>
<li><code>hexo g</code>，生成新网页文件</li>
<li><code>hexo d</code>，推送到Github</li>
<li>完成</li>
</ul>
<blockquote>
<p>2020/05/04 更新<br><code>hexo cl</code>清除旧网页文件<br><code>hexo g -d</code>生成新网页文件，并推送到Github</p>
</blockquote>
<h4 id="结束撒花"><a href="#结束撒花" class="headerlink" title="结束撒花"></a>结束撒花</h4><p>到这里，你的博客就完全做好了。<br>你现在可以在浏览器中，输入<code>username.github.io</code>，比如我的博客就是<a target="_blank" rel="noopener" href="https://kassadinl.github.io/" title="kassadinl.github.io">kassadinl.github.io</a><br>打开手机、其他电脑，同样可以访问你的博客，有没有感觉很神奇。</p>
<p>至此，本教程的主要部分就已结束</p>
<p>完结 撒花 撒花</p>
<hr>
<h4 id="补遗"><a href="#补遗" class="headerlink" title="补遗"></a>补遗</h4><ul>
<li><p>关于域名绑定</p>
</li>
<li><p>我参考的大部分教程中都讲述了如何绑定自己的个性化域名，但是目前我并没有这样的需求，因此没有研究。如果你有需要，可以参考我提到的教程，绑定自己的域名<br>这个就不错：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26625249" title="吴润 -- GitHub+Hexo 搭建个人网站详细教程">吴润：GitHub+Hexo 搭建个人网站详细教程</a></p>
</li>
<li><p>关于命令行窗口的操作</p>
</li>
<li><p>Git Bash窗口内不能使用<code>Ctrl C</code>和<code>Ctrl V</code>进行复制粘贴，<code>Ctrl C</code>在命令行窗口是<code>Stop</code>命令<br>要用<code>Ctrl Shift C</code>复制，<code>Shift Insert</code>粘贴</p>
</li>
<li><p>窗口内左右箭头可以移动光标，上下箭头是回溯历史命令</p>
</li>
<li><p>这里再列一些我踩过的坑</p>
</li>
<li><p>Github新建仓库时，名字必须按照<code>username.github.io</code>的形式，开始我想起一个其他名字，比如<code>MoriBlog.github.io</code>而非默认的<code>KassadinL.github.io</code>，但是栽到了这里，费了很多时间。现在想想，最后建成的网站是用<code>username.github.io</code>为域名，申请账号时的用户名是唯一的，这样唯一的名字才能被用作域名，所以仓库名是不能自定义的。</p>
</li>
<li><p>输入命令最好用Git Bash而非Windows自带的CMD和PowerShell，后两个有时会无法识别命令。</p>
</li>
<li><p>Git Bash在<code>hexo s</code>部署完，查看完毕网页之后最好及时<code>Ctrl C</code>停止，我因为开了多个Git Bash，没有注意其中一个一直运行，导致后面调试博客主题时怎么调整都没反应。</p>
</li>
<li><p>在配置文件中设置语言时，应该设置为<code>language: zh-CN</code>而非官方文档中的<code>language: zh-Hans</code>，官方文档可能是没有更新，按照官方设置会导致博客语言变成德语（不知道什么操作）</p>
</li>
<li><p>关于更改主题</p>
</li>
<li><p>Hexo是开源项目，如果你觉得博客不满意，可以方便修改任何部分。主题，或者说外观，可以通过修改配置文件快速更改。具体可以参考这篇教程：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/33616481" title="wangwlj--Hexo搭建的GitHub博客之优化大全">wangwlj–Hexo搭建的GitHub博客之优化大全</a></p>
</li>
</ul>
<hr>
<h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><p>本人在搭建博客中主要参考了：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26625249" title="吴润 -- GitHub+Hexo 搭建个人网站详细教程">吴润：GitHub+Hexo 搭建个人网站详细教程</a></li>
<li><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/" title="官方文档">Hexo官方文档</a>（Hexo是台湾人编写的，对中文支持很好）</li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/37826880" title="思武：十分钟建好托管在GitHub上的个人网站">思武：十分钟建好托管在GitHub上的个人网站</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/32263486" title="无小意丶：免费快速搭建博客教程，Hexo&amp;GitHub">无小意丶：免费快速搭建博客教程，Hexo&amp;GitHub</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/33616481" title="wangwlj：Hexo搭建的GitHub博客之优化大全">wangwlj：Hexo搭建的GitHub博客之优化大全</a></li>
</ul>
<hr>
<hr>
<hr>
<h4 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h4><p>搭建博客虽然是三分钟热度的行为，但是这个想法却早就存在了，如此终于算满足了一个小心愿。<br>虽然这个网站还有很多不满意的地方，比如Markdown不熟练，排版有问题；网站主题还没来得及做更多修改。</p>
<p>搭建这个博客除了满足自己瞎折腾的愿望，我还希望把这个博客当作打卡的地方，记录自己做的事情。<br>最近正在学习Blender，未来的文章可能会与Blender相关，可能是教程，可能是作品。（如果有的话…</p>
<p>2019/07/15 AY</p>
<hr>
<h4 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h4><h5 id="2019-07-17-更新"><a href="#2019-07-17-更新" class="headerlink" title="2019/07/17 更新"></a>2019/07/17 更新</h5><p>在整理文章时，比如重命名文件、文件夹，会出现文章关联的图片被删除的情况。<br>已经出现了两次，但是还好可以在回收站里还原。</p>
<p>今天发现可能是因为操作的时候忘记停止<code>hexo s</code>的部署…<br>（这个坑踩了N次了</p>
<hr>
<h5 id="2019-07-25-更新"><a href="#2019-07-25-更新" class="headerlink" title="2019/07/25 更新"></a>2019/07/25 更新</h5><p>添加了“CC 4.0”协议<br>参考的文章是 <a target="_blank" rel="noopener" href="https://juejin.im/post/5c7dd8675188251b6406e7b5" title="潘高--Hexo博客NexT主题美化之自定义文章底部版权声明">潘高–Hexo博客NexT主题美化之自定义文章底部版权声明</a><br>关于“CC 4.0”协议，可以看这篇 <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/20641764" title="漠伦--“知识共享”（CC协议）简单介绍">漠伦–“知识共享”（CC协议）简单介绍</a><br>（其实想用<code>CC BY-NC-SA</code>的协议，但是我在网上看到的大部分博客都是<code>CC BY-NC-ND</code>的，而且不少都是3.0版本<br>（暂且先用着这个协议</p>
<hr>
<h5 id="2019-08-18-更新"><a href="#2019-08-18-更新" class="headerlink" title="2019/08/18 更新"></a>2019/08/18 更新</h5><p>自定义图片尺寸<br>Next主题默认会拉伸图片，让图片和文章同宽，但是这样阅读体验不好，在网上搜了一下，可以给图片加标签，定义缩放比例<br>方法：在引用图片的链接前后分别插入<code>&lt;div style=&quot;width: 70%; margin: auto&quot;&gt;</code> <code>&lt;/div&gt;</code><br>其中，<code>width: </code> 后可以是像素，如<code>200px</code>；也可以是百分比，如<code>70%</code></p>
<hr>
<h5 id="2019-09-19-更新"><a href="#2019-09-19-更新" class="headerlink" title="2019/09/19 更新"></a>2019/09/19 更新</h5><p>修复版权信息链接错误<br>今天发现最后的版权信息链接不对，显示出来的是 <code>http://yoursite.com/*</code> 没有自动变成博客的网址<br>之前似乎还没有这个问题来着</p>
<p>上网搜了一下，找到解决办法 <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000009544924#articleHeader19" title="link">Moorez - hexo的next主题个性化配置教程</a></p>
<hr>
<h5 id="2019-09-25-更新"><a href="#2019-09-25-更新" class="headerlink" title="2019/09/25 更新"></a>2019/09/25 更新</h5><p>插入b站视频外链<br>b站的外链不好用，使用外链只能看360p的视频，放在网页上只有一小块，体验极差<br>只能用iframe标签修改宽高，但限制还是太多</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;//player.bilibili.com/player.html?aid=8854302&amp;cid=19328137&amp;page=1&quot;</span> <span class="hljs-attr">scrolling</span>=<span class="hljs-string">&quot;no&quot;</span> <span class="hljs-attr">border</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">frameborder</span>=<span class="hljs-string">&quot;no&quot;</span> <span class="hljs-attr">framespacing</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">allowfullscreen</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight maxima"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs maxima">&lt;iframe src=<span class="hljs-string">&quot;//player.bilibili.com/player.html?aid=8854302&amp;cid=19328137&amp;page=1&quot;</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">&quot;100%&quot;</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">&quot;600&quot;</span> scrolling=<span class="hljs-string">&quot;no&quot;</span> <span class="hljs-built_in">border</span>=<span class="hljs-string">&quot;0&quot;</span> frameborder=<span class="hljs-string">&quot;no&quot;</span> framespacing=<span class="hljs-string">&quot;0&quot;</span> allowfullscreen=<span class="hljs-string">&quot;true&quot;</span>&gt; &lt;/iframe&gt;<br></code></pre></div></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;spkj&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;//player.bilibili.com/player.html?aid=8854302&amp;cid=19328137&amp;page=1&quot;</span> <span class="hljs-attr">scrolling</span>=<span class="hljs-string">&quot;no&quot;</span> <span class="hljs-attr">border</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">frameborder</span>=<span class="hljs-string">&quot;no&quot;</span> <span class="hljs-attr">framespacing</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">allowfullscreen</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">100%</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript">  </span><br><span class="javascript"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;spkj&quot;</span>).style.height=<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;spkj&quot;</span>).scrollWidth*<span class="hljs-number">0.76</span>+<span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>第一个代码是b站生成的外链<br>第二个代码添加自适应宽度标签<br>第三个代码添加自适应宽高脚本</p>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://baiyue.one/archives/452.html" title="博客中使用iframe标签嵌入B站视频，PC手机自适应宽高">博客中使用iframe标签嵌入B站视频，PC手机自适应宽高</a></li>
<li><a target="_blank" rel="noopener" href="https://kylindc.github.io/post/53723/#" title="Hexo 折腾手记其三：多媒体及互联网资源插入博客">Hexo 折腾手记其三：多媒体及互联网资源插入博客</a></li>
</ul>
<hr>
<h5 id="2019-09-25-更新-1"><a href="#2019-09-25-更新-1" class="headerlink" title="2019/09/25 更新"></a>2019/09/25 更新</h5><p>插入站内文章链接<br>方法：</p>
<figure class="highlight applescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs applescript">&#123;% post_link <span class="hljs-number">001</span>-how-<span class="hljs-keyword">to</span>-deploy-blog-<span class="hljs-keyword">with</span>-hexo-<span class="hljs-keyword">and</span>-github %&#125;<br></code></pre></div></td></tr></table></figure>
<p>参考：<a target="_blank" rel="noopener" href="https://marshal.ohtly.com/2015/09/12/internal-link-and-image-for-hexo/" title="Marshal@十万光年 - Hexo使用内链及文章中加入图片的方法">Marshal@十万光年 - Hexo使用内链及文章中加入图片的方法</a></p>
<hr>
<h5 id="2019-09-25-更新-2"><a href="#2019-09-25-更新-2" class="headerlink" title="2019/09/25 更新"></a>2019/09/25 更新</h5><p>Markdown简明语法<br>今天更新博客遇到格式问题，在网上搜了搜，现学现用<br>参考：<a target="_blank" rel="noopener" href="https://hyxxsfwy.github.io/2016/01/15/Hexo-Markdown-%E7%AE%80%E6%98%8E%E8%AF%AD%E6%B3%95%E6%89%8B%E5%86%8C" title="Hexo Markdown 简明语法手册">Hexo Markdown 简明语法手册</a></p>
<hr>
<h5 id="2019-09-26-更新"><a href="#2019-09-26-更新" class="headerlink" title="2019/09/26 更新"></a>2019/09/26 更新</h5><p>添加搜索功能<br>方法：<a target="_blank" rel="noopener" href="https://yashuning.github.io/2018/06/29/hexo-Next-%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/" title="hexo - Next 主题添加搜索功能">hexo - Next 主题添加搜索功能</a><br>安装搜索模块时，出现两个错误，说依赖库版本太低，但是没有影响，搜索功能可以使用</p>
<hr>
<h5 id="2019-11-26-更新"><a href="#2019-11-26-更新" class="headerlink" title="2019/11/26 更新"></a>2019/11/26 更新</h5><p>在Linux上搭了一遍博客，回头看教程，更改了一些语句</p>
<hr>
<h5 id="2019-11-26-更新-1"><a href="#2019-11-26-更新-1" class="headerlink" title="2019/11/26 更新"></a>2019/11/26 更新</h5><p>换了 <code>Fluid</code> 主题，这个好看<br>参考 <a target="_blank" rel="noopener" href="https://fluid-dev.github.io/hexo-fluid-docs/guide" title="Fluid">使用指南 - Fluid</a></p>
<hr>
<h5 id="2019-11-29-更新"><a href="#2019-11-29-更新" class="headerlink" title="2019/11/29 更新"></a>2019/11/29 更新</h5><p>作死想要升级Win上的Hexo，<code>npm update</code>没有反应<br>继续作死，卸载Node.js（重装一遍不就是最新的了吗）<br>结果卡在 <code>hexo init</code> <code>npm install</code> 这两个命令这里<br>Git Bash 输出如下</p>
<figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">username@alias MINGW64 ~/Documents/Blog<br>$ hexo init<br>INFO  Cloning hexo-starter http<span class="hljs-variable">s:</span>//github.<span class="hljs-keyword">com</span>/hexojs/hexo-starter.git<br>Cloning into <span class="hljs-string">&#x27;C:\Users\username\Documents\Blog&#x27;</span>...<br>remote: Enumerating object<span class="hljs-variable">s:</span> <span class="hljs-number">22</span>, done.<br>remote: Counting object<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">22</span>/<span class="hljs-number">22</span>), done.<br>remote: Compressing object<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">18</span>/<span class="hljs-number">18</span>), done.<br>remote: Total <span class="hljs-number">153</span> (delta <span class="hljs-number">8</span>), reused <span class="hljs-number">8</span> (delta <span class="hljs-number">2</span>), pack-reused <span class="hljs-number">131</span><br>Receiving object<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">153</span>/<span class="hljs-number">153</span>), <span class="hljs-number">29.67</span> KiB | <span class="hljs-number">660.00</span> KiB/s, done.<br>Resolving delta<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">70</span>/<span class="hljs-number">70</span>), done.<br>Submodule <span class="hljs-string">&#x27;themes/landscape&#x27;</span> (http<span class="hljs-variable">s:</span>//github.<span class="hljs-keyword">com</span>/hexojs/hexo-theme-landscape.git) registered <span class="hljs-keyword">for</span> path <span class="hljs-string">&#x27;themes/landscape&#x27;</span><br>Cloning into <span class="hljs-string">&#x27;C:/Users/username/Documents/Blog/themes/landscape&#x27;</span>...<br>remote: Enumerating object<span class="hljs-variable">s:</span> <span class="hljs-number">32</span>, done.<br>remote: Counting object<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">32</span>/<span class="hljs-number">32</span>), done.<br>remote: Compressing object<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">25</span>/<span class="hljs-number">25</span>), done.<br>remote: Total <span class="hljs-number">1054</span> (delta <span class="hljs-number">20</span>), reused <span class="hljs-number">13</span> (delta <span class="hljs-number">7</span>), pack-reused <span class="hljs-number">1022</span><br>Receiving object<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">1054</span>/<span class="hljs-number">1054</span>), <span class="hljs-number">3.21</span> MiB | <span class="hljs-number">851.00</span> KiB/s, done.<br>Resolving delta<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">578</span>/<span class="hljs-number">578</span>), done.<br>Submodule path <span class="hljs-string">&#x27;themes/landscape&#x27;</span>: checked out <span class="hljs-string">&#x27;73a23c51f8487cfcd7c6deec96ccc7543960d350&#x27;</span><br>INFO  Install dependencies<br><span class="hljs-string">&#x27;npm&#x27;</span> <span class="hljs-keyword">is</span> not recognized <span class="hljs-keyword">as</span> <span class="hljs-keyword">an</span> internal <span class="hljs-built_in">or</span> external <span class="hljs-keyword">command</span>,<br>operable program <span class="hljs-built_in">or</span> batch <span class="hljs-keyword">file</span>.<br>WARN  Failed <span class="hljs-keyword">to</span> install dependencies. Please run <span class="hljs-string">&#x27;npm install&#x27;</span> manually!<br><br>username@alias MINGW64 ~/Documents/Blog<br>$ npm install<br><br>&gt; ejs@<span class="hljs-number">2.7</span>.<span class="hljs-number">4</span> postinstall C:\Users\username\Documents\Blog\node_modules\ejs<br>&gt; node ./postinstall.js<br><br><span class="hljs-string">&#x27;node&#x27;</span> <span class="hljs-keyword">is</span> not recognized <span class="hljs-keyword">as</span> <span class="hljs-keyword">an</span> internal <span class="hljs-built_in">or</span> external <span class="hljs-keyword">command</span>,<br>operable program <span class="hljs-built_in">or</span> batch <span class="hljs-keyword">file</span>.<br>npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="hljs-number">1.2</span>.<span class="hljs-number">9</span> (node_modules\nunjucks\node_modules\fsevents):<br>npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="hljs-keyword">for</span> fsevents@<span class="hljs-number">1.2</span>.<span class="hljs-number">9</span>: wanted &#123;<span class="hljs-string">&quot;os&quot;</span>:<span class="hljs-string">&quot;darwin&quot;</span>,<span class="hljs-string">&quot;arch&quot;</span>:<span class="hljs-string">&quot;any&quot;</span>&#125; (curren<span class="hljs-variable">t:</span> &#123;<span class="hljs-string">&quot;os&quot;</span>:<span class="hljs-string">&quot;win32&quot;</span>,<span class="hljs-string">&quot;arch&quot;</span>:<span class="hljs-string">&quot;x64&quot;</span>&#125;)<br>npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="hljs-number">2.1</span>.<span class="hljs-number">2</span> (node_modules\fsevents):<br>npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="hljs-keyword">for</span> fsevents@<span class="hljs-number">2.1</span>.<span class="hljs-number">2</span>: wanted &#123;<span class="hljs-string">&quot;os&quot;</span>:<span class="hljs-string">&quot;darwin&quot;</span>,<span class="hljs-string">&quot;arch&quot;</span>:<span class="hljs-string">&quot;any&quot;</span>&#125; (curren<span class="hljs-variable">t:</span> &#123;<span class="hljs-string">&quot;os&quot;</span>:<span class="hljs-string">&quot;win32&quot;</span>,<span class="hljs-string">&quot;arch&quot;</span>:<span class="hljs-string">&quot;x64&quot;</span>&#125;)<br><br>npm ERR! code ELIFECYCLE<br>npm ERR! errno <span class="hljs-number">1</span><br>npm ERR! ejs@<span class="hljs-number">2.7</span>.<span class="hljs-number">4</span> postinstal<span class="hljs-variable">l:</span> `node ./postinstall.js`<br>npm ERR! Exit status <span class="hljs-number">1</span><br>npm ERR!<br>npm ERR! Failed at the ejs@<span class="hljs-number">2.7</span>.<span class="hljs-number">4</span> postinstall script.<br>npm ERR! This <span class="hljs-keyword">is</span> probably not <span class="hljs-keyword">a</span> problem with npm. There <span class="hljs-keyword">is</span> likely additional logging output above.<br><br>npm ERR! A <span class="hljs-built_in">complete</span> <span class="hljs-built_in">log</span> of this run can <span class="hljs-keyword">be</span> found in:<br>npm ERR!     C:\Users\username\AppData\Roaming\npm-cache\_logs\<span class="hljs-number">2019</span>-<span class="hljs-number">11</span>-<span class="hljs-number">29</span>T03_31_36_888Z-<span class="hljs-keyword">debug</span>.<span class="hljs-built_in">log</span><br></code></pre></div></td></tr></table></figure>

<p>卡了我两个小时…</p>
<p>还好最后发现用Node.js自带的 <code>Node.js command prompt</code> 执行这两个命令就行了，没添加环境变量的原因<br>（<del>Windows真难用</del> 我太菜</p>
<hr>
<h5 id="2019-12-23-更新"><a href="#2019-12-23-更新" class="headerlink" title="2019/12/23 更新"></a>2019/12/23 更新</h5><p>绑定域名并开启<code>HTTPS</code></p>
<p>本来以为自己没有这个需求，但是前两天折腾trojan，需要一个域名，想着可以顺便给博客绑定域名（但是我太菜了，既不顺也不便），就买了<code>kassadin.moe</code></p>
<blockquote>
<p>折腾trojan的过程  <a href="/2019/12/21/031-deploy-trojan/" title="笔记：部署trojan（靠运气）">笔记：部署trojan（靠运气）</a></p>
</blockquote>
<p>参考资料：<br><a target="_blank" rel="noopener" href="https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site" title="link">Managing a custom domain for your GitHub Pages site - Github官方文档</a><br><a target="_blank" rel="noopener" href="https://razeencheng.com/post/https-githubpages.html" title="link">GitHub Pages自定义域名开启HTTPS - Razeen</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26625249" title="link">GitHub+Hexo 搭建个人网站详细教程 - 吴润</a></p>
<p>按教程走出现一些问题（可能是我太菜了，前期设置不当），比如</p>
<ul>
<li><p>CloudFlare里<code>A type record</code>或<code>CNAME type record</code>，只能选一种指向GitHub Pages</p>
<ul>
<li>但是如果用<code>A type record</code>，会有下面这个错误，证书无效</li>
<li>我也不知道怎么解决这个问题，只能用<code>CNAME type record</code><img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/31aerror.png" srcset="/img/loading.gif" lazyload class="">
</li>
</ul>
</li>
<li><p>仓库设置里，GitHub Pages部分，无法开启<code>Enforce HTTPS</code></p>
<img src="/2019/07/15/001-how-to-deploy-blog-with-hexo-and-github/32nohttps.png" srcset="/img/loading.gif" lazyload class="">
<ul>
<li>去网上搜一搜，<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/56575838" title="link">通过github搭建的Hexo博客如何添加免费的SSL证书？ - 知乎</a>这个问题里有人说要等24个小时，但我等了3天还是不能勾上这个<code>Enforce HTTPS</code></li>
<li>参考 <a target="_blank" rel="noopener" href="https://razeencheng.com/post/https-githubpages.html" title="link">GitHub Pages自定义域名开启HTTPS</a>，外加在CloudFlare面板里把看起来有用的功能全部开启，终于可以强制<code>HTTPS</code></li>
<li>所以我也不清楚到底怎么开<code>HTTPS</code>，只是现在稀里糊涂开上了，那就这么用吧</li>
<li><a target="_blank" rel="noopener" href="https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site" title="link">Managing a custom domain for your GitHub Pages site</a> 官方教程里，配置好解析之后可以用<code>dig</code>命令查看配置是否正确，不管我怎么配置，<code>dig kassadin.moe</code>的结果都不对…就这样吧</li>
<li>猜测这些问题的原因是，我一开始用了个次级域名<code>blog.kassadin.moe</code>，配置了一遍。但后来想了想，改成了<code>kassadin.moe</code>。而且后面发现<code>Enforce HTTPS</code>点不上的时候，频繁操作<br>难道是这个问题？奇怪</li>
</ul>
</li>
</ul>
<blockquote>
<p>2019/12/28 更新<br>博客现在应该用的是CloudFlare的证书</p>
</blockquote>
<hr>
<h5 id="2019-12-28-更新"><a href="#2019-12-28-更新" class="headerlink" title="2019/12/28 更新"></a>2019/12/28 更新</h5><p>添加评论系统</p>
<p>使用的是<code>Fluid</code>主题支持的<code>gitalk</code>评论系统，参考资料：<br><a target="_blank" rel="noopener" href="https://github.com/gitalk/gitalk" title="link">gitalk - Github</a><br><a target="_blank" rel="noopener" href="https://introspelliam.github.io/2018/07/09/hexo/NexT%E4%B8%BB%E9%A2%98%E4%B8%AD%E9%9B%86%E6%88%90gitalk%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/" title="link">NexT主题中集成gitalk评论系统</a><br><a target="_blank" rel="noopener" href="https://draveness.me/git-comments-initialize" title="link">自动初始化 Gitalk 和 Gitment 评论</a></p>
<p>设置完成之后还需要在每篇博客下面点击<code>初始化Issue</code>（虽然有上面那个脚本，可惜我不会用</p>
<hr>
<h5 id="2020-05-04-更新"><a href="#2020-05-04-更新" class="headerlink" title="2020/05/04 更新"></a>2020/05/04 更新</h5><p>常用命令简写</p>
<ul>
<li><code>hexo clean</code>可以简写为<code>hexo cl</code></li>
<li><code>hexo g</code> <code>hexo d</code>可以合并简写为<code>hexo g -d</code></li>
</ul>
<hr>
<h5 id="2020-05-04-更新-1"><a href="#2020-05-04-更新-1" class="headerlink" title="2020/05/04 更新"></a>2020/05/04 更新</h5><p>添加RSS</p>
<p>Ref: </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/33616481" title="wangwlj：Hexo搭建的GitHub博客之优化大全">wangwlj：Hexo搭建的GitHub博客之优化大全</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-generator-feed">Github - hexojs/hexo-generator-feed </a></li>
</ul>
<p>设置好之后没有显示RSS图标，可能是用<code>Fluid</code>主题的问题，在配置文件里找了找，在<code>Navigation bar menu</code>部分，增加一行RSS配置就行了</p>
<figure class="highlight perl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs perl"><span class="hljs-comment"># 导航栏菜单，可自行增减，key 用来关联 languages/*.yml，如不存在关联则显示 key 本身的值；icon 是 css class，可以省略；增加 name 可以强制显示指定名称</span><br><span class="hljs-comment"># Navigation bar menu. `key` is used to associate languages/*.yml. If there is no association, the value of `key` itself will be displayed; if `icon` is a css class, it can be omitted; adding `name` can force the display of the specified name</span><br>menu:<br>  - &#123; key: <span class="hljs-string">&quot;home&quot;</span>, <span class="hljs-keyword">link</span>: <span class="hljs-string">&quot;/&quot;</span>, icon: <span class="hljs-string">&quot;iconfont icon-home-fill&quot;</span> &#125;<br>  - &#123; key: <span class="hljs-string">&quot;archive&quot;</span>, <span class="hljs-keyword">link</span>: <span class="hljs-string">&quot;/archives/&quot;</span>, icon: <span class="hljs-string">&quot;iconfont icon-archive-fill&quot;</span> &#125;<br>  - &#123; key: <span class="hljs-string">&quot;tag&quot;</span>, <span class="hljs-keyword">link</span>: <span class="hljs-string">&quot;/tags/&quot;</span>, icon: <span class="hljs-string">&quot;iconfont icon-tags-fill&quot;</span> &#125;<br>  - &#123; key: <span class="hljs-string">&quot;about&quot;</span>, <span class="hljs-keyword">link</span>: <span class="hljs-string">&quot;/about/&quot;</span>, icon: <span class="hljs-string">&quot;iconfont icon-user-fill&quot;</span> &#125;<br>  - &#123; key: <span class="hljs-string">&quot;rss&quot;</span>, <span class="hljs-keyword">link</span>: <span class="hljs-string">&quot;/atom.xml&quot;</span>, icon: <span class="hljs-string">&quot;iconfont icon-rss&quot;</span>, name: <span class="hljs-string">&quot;RSS&quot;</span> &#125;<br></code></pre></div></td></tr></table></figure>
<p>最后一行是RSS配置</p>
<hr>
<h5 id="2021-04-10-更新"><a href="#2021-04-10-更新" class="headerlink" title="2021/04/10 更新"></a>2021/04/10 更新</h5><p>更换评论系统</p>
<p>最近<code>npm update</code>升级一下，<code>gitalk</code>好像不能用了，报<code>Error: Request failed with status code 405</code>错误<br>看了看Github上的讨论，只有一两个帖子，<code>Error 403</code>倒是有很多讨论<br>似乎和<code>proxy</code>参数有关，感觉设置起来好复杂，弃疗</p>
<p>换成<code>Fluid</code>主题支持的<code>utterances</code>，和<code>gitalk</code>一样是基于Github Issue的评论系统<br>设置教程 <a target="_blank" rel="noopener" href="https://utteranc.es/">utterances</a><br>比设置<code>gitalk</code>简单不少，使用也更简单，不用自己<code>初始化Issue</code>（但是似乎没有匿名评论的功能，必须用Github帐号</p>
<hr>
<h5 id="2021-10-01-更新"><a href="#2021-10-01-更新" class="headerlink" title="2021/10/01 更新"></a>2021/10/01 更新</h5><p>SSH key 错误</p>
<p><code>deploy d</code>部署，如下各种姿势出错</p>
<figure class="highlight scss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs scss">git<span class="hljs-keyword">@ssh</span>.github.<span class="hljs-attribute">com</span>: Permission denied (publickey).<br><br>kex_exchange_<span class="hljs-attribute">identification</span>: Connection closed by remote host<br>Connection closed by ...<br><br>git<span class="hljs-keyword">@ssh</span>.github.<span class="hljs-attribute">com</span>: Permission denied (publickey).<br><span class="hljs-attribute">fatal</span>: Could <span class="hljs-keyword">not</span> read from remote repository.<br></code></pre></div></td></tr></table></figure>

<p>刚开始以为是梯子有问题，换了个还是报错<br>又试了 <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues/1478">HEXO DEPLOY 时不断 Error: Permission denied (publickey). fatal: Could not read from remote repository. #1478</a> 和 <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues/3339">Win10使用ssh的hexo deploy到github報錯 #3339</a> 中的各种方式，也不行</p>
<p>后来看到 <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues/2312#issuecomment-267064001">using cmd,type hexo d, Error: Permission denied (publickey). #2312</a> 这条评论</p>
<blockquote>
<p>The ssh key doesn’t add to cmd environment.<br>Using ssh-add to add the key.<br><code>ssh-add ~/.ssh/id_rsa</code></p>
</blockquote>
<p>还有Github文档 <a target="_blank" rel="noopener" href="https://docs.github.com/en/authentication/troubleshooting-ssh/error-permission-denied-publickey#make-sure-you-have-a-key-that-is-being-used">Error: Permission denied (publickey) - Make sure you have a key that is being used</a></p>
<p><code>ssh-add -l</code> get <code>The agent has no identities.</code><br><code>ssh-add</code> get <code>Could not open a connection to your authentication agent.</code><br>原来我的本地环境根本没有用任何key…</p>
<hr>
<p>修复方法参照Github官方文档 <a target="_blank" rel="noopener" href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#adding-your-ssh-key-to-the-ssh-agent">Generating a new SSH key and adding it to the ssh-agent</a> </p>
<ul>
<li><p>Start the ssh-agent in the background.</p>
<figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">eval</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(ssh-agent -s)</span>&quot;</span></span><br><span class="hljs-meta">&gt;</span><span class="bash"> Agent pid 59566</span><br></code></pre></div></td></tr></table></figure>
<p>Depending on your environment, you may need to use a different command. For example, you may need to use root access by running sudo -s -H before starting the ssh-agent, or you may need to use exec ssh-agent bash or exec ssh-agent zsh to run the ssh-agent.</p>
</li>
<li><p>Add your SSH private key to the ssh-agent. If you created your key with a different name, or if you are adding an existing key that has a different name, replace id_ed25519 in the command with the name of your private key file.</p>
<figure class="highlight arcade"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs arcade">$ ssh-add ~<span class="hljs-regexp">/.ssh/i</span>d_ed25519<br></code></pre></div></td></tr></table></figure>

</li>
</ul>
<p>当时看到这部分，但是不太理解有什么用，于是跳过了….<br>现在浪费了几个小时</p>
<hr>
<h5 id="2023-05-19-更新"><a href="#2023-05-19-更新" class="headerlink" title="2023/05/19 更新"></a>2023/05/19 更新</h5><p>SSH key 错误 (2)</p>
<p>隔了好久没更新博客，今天写了点笔记，推了一下，出来个报错</p>
<figure class="highlight gauss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gauss"><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@</span><br><span class="hljs-comment">@</span>    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     <span class="hljs-comment">@</span><br><span class="hljs-comment">@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><span class="hljs-comment">@@</span><br>IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!<br>Someone could be eavesdropping on you right <span class="hljs-built_in">now</span> (man-in-the-middle attack)!<br>It is also possible that a host <span class="hljs-built_in">key</span> has just been changed.<br>The fingerprint <span class="hljs-keyword">for</span> the RSA key sent by the remote host is<br>SHA256:uNiVztksCsDhcc0u9e8BujQXVUpKZIDTMczCvj3tD2s.<br>Please contact your system administrator.<br>Add correct host key in /home<span class="hljs-comment">/***/</span>.ssh/known_hosts to get rid of this message.<br>Offending RSA key in /home<span class="hljs-comment">/***/</span>.ssh/known_hosts:17<br>Host key <span class="hljs-keyword">for</span> [ssh.github.com]:443 has changed and you have requested strict checking.<br>Host key verification failed.<br>...<br></code></pre></div></td></tr></table></figure>

<p>上网查了查，GitHub 说 <a target="_blank" rel="noopener" href="https://github.blog/2023-03-23-we-updated-our-rsa-ssh-host-key/">We updated our RSA SSH host key</a><br>按照帖子里的步骤更新一遍<br>发现还是报错</p>
<p>仔细看了看</p>
<figure class="highlight gradle"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gradle">Add correct host key in <span class="hljs-regexp">/home/</span>***<span class="hljs-regexp">/.ssh/</span>known_hosts to get rid of <span class="hljs-keyword">this</span> message.<br>Offending RSA key in <span class="hljs-regexp">/home/</span>***<span class="hljs-regexp">/.ssh/</span>known_hosts:<span class="hljs-number">17</span><br></code></pre></div></td></tr></table></figure>

<p>似乎是用于 GitHub 的密钥没有设置好</p>
<p>在 ‘~/.ssh/config’ 里面添加</p>
<figure class="highlight crmsh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs crmsh">Host github.com<br>HostName github.com<br>PreferredAuthentications publickey<br>IdentityFile ~/.ssh/YourPrivateKeyFileName<br><span class="hljs-keyword">User</span> <span class="hljs-title">Yourname</span><br></code></pre></div></td></tr></table></figure>

<p>就可以了</p>
<p>之前也配置这个了，但是配置了两条，第一条配置错误，SSH 每次都是用第一条错误的配置，才会报错</p>
<hr>
<h5 id="2023-05-19-更新-2"><a href="#2023-05-19-更新-2" class="headerlink" title="2023/05/19 更新 2"></a>2023/05/19 更新 2</h5><p><code>hexo d</code> 要求输入 username 和 password</p>
<p>博客的 <code>_config.yml</code> 配置文件，repo 地址使用 https 就会要求名称和密码，git 则会自动使用密钥<br>改回 git 地址就好了</p>
<p>Ref:<br><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-deployer-git/issues/175">hexo d must enter pwd | hexo deploy的时候一直需要输入密码</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E6%95%99%E7%A8%8B/">教程</a>
                    
                      <a class="hover-with-bg" href="/tags/%E6%8A%80%E6%9C%AF/">技术</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-NC-ND 4.0协议</a> 。转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2019/07/17/002-how-to-use-Wacom-tablet-on-screen-controls-simu-MMB-and-Numpad/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">笔记：如何使用Wacom按键模拟滚轮和数字小键盘</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2019/07/14/000-hello-world/">
                        <span class="hidden-mobile">Hello World</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'KassadinL/blog_comment');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":200})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
